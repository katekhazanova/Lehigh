<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:sec="http://www.springframework.org/schema/security" xmlns:aop="http://www.springframework.org/schema/aop"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans 
  		   				   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
						   http://www.springframework.org/schema/security
						   http://www.springframework.org/schema/security/spring-security-3.0.xsd
						   http://www.springframework.org/schema/aop 
					  	   http://www.springframework.org/schema/aop/spring-aop-3.0.xsd">
					  	   
<!-- START AUDITVIEWER BEANS -->
	
	<import resource="classpath:ctx/AuditViewerQueries.xml" />
	
	<bean name="av.jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <constructor-arg ref="av.dataSource" />
    </bean>
    
    <alias alias="av.dataSource" name="security.dataSource" />

<!-- 	<bean id="av.dataSource" class="org.apache.commons.dbcp.BasicDataSource"	destroy-method="close">
		<property name="driverClassName" value= "${av.jdbc.driver}" />
		<property name="url" value="${av.jdbc.url}" />
		<property name="username" value="${av.jdbc.username}" />
		<property name="password" value="${av.jdbc.password}" />
		<property name="initialSize" value="${av.jdbc.initialNumberOfConnections}" />
        <property name="maxActive" value="${av.jdbc.maxActiveConnections}" />
		<property name="maxIdle" value="${av.jdbc.maxIdle}" />
		<property name="maxWait" value="${av.jdbc.maxWait}" />
        <property name="minIdle" value="${av.jdbc.minIdleConnections}" />
		<property name="testOnBorrow" value="${av.jdbc.testOnBorrow}" />
		<property name="testOnReturn" value="${av.jdbc.testOnReturn}" />
		<property name="testWhileIdle" value="${av.jdbc.testWhileIdle}" />
		<property name="validationQuery" value="${av.jdbc.validationQuery}" />
	</bean> -->
	
	<!-- 
	<bean id="av.dataSource" class="org.springframework.jndi.JndiObjectFactoryBean">
    	<property name="jndiName"><value>${av.jdbc.jndi}</value></property>
  	</bean> -->
 	
 	<bean name="auditViewerDao" class="com.dashboard.controllers.auditviewer.dao.AuditViewerDaoImpl">
    	<property name="jdbcTemplate" ref="av.jdbcTemplate"/>
    	<property name="auditViewerQueryUtil" ref="auditViewerQueryUtil"/>
    </bean>
    
    <bean name="BaseAuditController" class="com.dashboard.controllers.auditviewer.BaseAuditController">
		<property name="dao" ref="auditViewerDao"/>
		<property name="au" ref="auditUtil"/>
		<property name="runConfig" ref="runConfig"/>
	</bean>
	
    <bean name="auditUtil" class="com.dashboard.controllers.auditviewer.util.AuditUtil">
    	<property name="dao" ref="auditViewerDao"/>
		<property name="runConfig" ref="runConfig"/>
    </bean>
 	
 	 	<!--  configuration options -->
	<bean id="runConfig" class="com.dashboard.controllers.auditviewer.util.RunConfig">
		<property name="serverName1" value="${av.server_name1}" />
		<property name="serverName2" value="${av.server_name2}" />
		<property name="betweenSearchTime" value="${av.between_search_time}" />
		<property name="comDefault"	value="${av.server.daemon.comKey}" />
		<property name="alignBySection"	value="${av.align_by_section}" />
		<property name="log_level" value="${av.log_level}" />
		<property name="ignoreSpacing" value="${av.ignore_spacing}" />
		<property name="lookAhead" value="${av.look_ahead}" />
		<property name="lookAheadCount" value="${av.look_ahead_count}" />
		<property name="matchThreshold"	value="${av.match_threshold}" />
		<property name="compareByWord" value="${av.compare_by_word}" />
		<property name="timeoutForAuditRequests" value="${av.timeoutForAuditRequests}" />
		<property name="evalsw" value="${av.evalsw}" />
		<property name="startLine" value="${av.startLine}" />
	</bean>
	<!-- END AUDITVIEWER BEANS -->
</beans>